<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Klassresa – Karta mot Gotland</title>
  <style>
    body {
      margin: 0;
      font-family: Inter, system-ui, sans-serif;
      background: #f4f9ff;
      color: #222;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
    }

    .map-wrap {
      max-width: 700px;
      width: 100%;
      background: #fff;
      border: 1px solid #d6e4f0;
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    }

    h1 {
      text-align: center;
      margin-top: 0;
      font-size: 26px;
      color: #1a3d5d;
    }

    .jar-title {
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      color: #1a3d5d;
      margin-bottom: 10px;
    }

    .jar-container {
      position: relative;
      width: 140px;
      height: 200px;
      margin: 0 auto 40px auto;
    }

    .jar-bg {
      width: 100%;
      height: 100%;
      background: #e0e0e0;
      border-radius: 12px;
      position: relative;
      overflow: hidden;
      box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.2);
    }

    .jar-fill {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to top, #2193b0, #6dd5ed);
      transform-origin: bottom;
      transform: scaleY(0);
      transition: transform 0.5s ease-in-out;
    }

    .jar-label {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 20px;
      font-weight: 600;
      color: #fff;
      z-index: 2;
      pointer-events: none;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
      max-width: 100%;
      text-align: center;
      padding: 0 10px;
      white-space: nowrap; /* чтобы "kr" не переносилось */
    }

    /* Градации */
    .jar-ticks {
      position: absolute;
      top: 0;
      left: 100%;
      height: 100%;
      margin-left: 8px;
      width: 30px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .jar-ticks span {
      font-size: 12px;
      color: #666;
      white-space: nowrap;
      transform: translateY(50%);
    }

    .timeline {
      display: flex;
      flex-direction: column;
      position: relative;
      padding-left: 40px;
      margin-bottom: 40px;
    }

    .timeline::before {
      content: "";
      position: absolute;
      top: 0;
      bottom: 0;
      left: 20px;
      width: 4px;
      background: #bbb;
      border-radius: 2px;
      z-index: 0;
    }

    .timeline-fill {
      position: absolute;
      left: 20px;
      width: 4px;
      background: #2193b0;
      border-radius: 2px;
      transform-origin: top;
      z-index: 1;
      top: 0;
      height: 0;
    }

    .timeline-arrow {
      position: absolute;
      left: 20px;
      width: 0;
      height: 0;
      border-left: 7px solid transparent;
      border-right: 7px solid transparent;
      border-top: 10px solid #2193b0;
      transform: translateX(-50%);
      z-index: 2;
    }

    .event {
      position: relative;
      margin-bottom: 40px;
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }

    .event:last-child {
      margin-bottom: 0;
    }

    .circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #fff;
      border: 3px solid #bbb;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: #666;
      flex-shrink: 0;
      z-index: 2;
    }

    .event.active .circle {
      background: #2193b0;
      color: #fff;
      border-color: #2193b0;
      box-shadow: 0 0 10px #2193b0;
    }

    .money-label {
      font-size: 13px;
      color: #1a3d5d;
      margin-left: 8px;
      margin-top: 12px;
      white-space: nowrap;
      flex-shrink: 0;
      font-weight: 600;
    }

    .details {
      background: #f9fcff;
      border: 1px solid #d6e4f0;
      border-radius: 10px;
      padding: 10px 14px;
      font-size: 15px;
      color: #333;
      flex: 1;
      position: relative;
    }

    .details strong {
      display: block;
      margin-bottom: 4px;
      color: #1a3d5d;
    }

    .details span {
      color: #555;
    }

    .events {
      margin-top: 20px;
    }

    .events h2 {
      font-size: 20px;
      color: #1a3d5d;
      margin-bottom: 10px;
      text-align: center;
    }

    .events ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .events li {
      background: #f9fcff;
      border: 1px solid #d6e4f0;
      border-radius: 10px;
      padding: 10px 14px;
      margin-bottom: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 15px;
      color: #333;
    }

    .events li span {
      color: #555;
    }
  </style>
</head>
<body>
  <div class="map-wrap">
    <h1>Resan mot skolresan🛳️</h1>

    <div class="jar-title">💰 Klasskassa</div>
    <div class="jar-container">
      <div class="jar-bg">
        <div class="jar-fill" id="jarFill"></div>
        <div class="jar-label" id="jarLabel">0 kr</div>
      </div>
      <div class="jar-ticks">
        <span>70 000 kr</span>
        <span>40 000 kr</span>
        <span>20 000 kr</span>
        <span>10 000 kr</span>
        <span>10 000 kr</span>
        <span>0 kr</span>
      </div>
    </div>

    <div class="timeline" id="timeline">
      <div class="timeline-fill" id="timelineFill"></div>
      <div class="timeline-arrow" id="timelineArrow"></div>

      <div class="event" data-goal="0">
        <div class="circle">🏁</div>
        <div class="money-label">0 kr</div>
        <div class="details"><strong>Start</strong>Vi börjar vår resa! <span>🚀</span></div>
      </div>
      <div class="event" data-goal="5000">
        <div class="circle">🎃</div>
        <div class="money-label">5 000 kr</div>
        <div class="details"><strong>Halloween fest</strong>Vid 5 000 kr <span>👻</span></div>
      </div>
      <div class="event" data-goal="10000">
        <div class="circle">🍿</div>
        <div class="money-label">10 000 kr</div>
        <div class="details"><strong>Filmkväll</strong>Vid 10 000 kr <span>🎬</span></div>
      </div>
      <div class="event" data-goal="20000">
        <div class="circle">🍦</div>
        <div class="money-label">20 000 kr</div>
        <div class="details"><strong>Glassfest</strong>Vid 20 000 kr <span>🍨</span></div>
      </div>
      <div class="event" data-goal="30000">
        <div class="circle">🎉</div>
        <div class="money-label">30 000 kr</div>
        <div class="details"><strong>Discofest</strong>Vid 30 000 kr <span>🪩</span></div>
      </div>
      <div class="event" data-goal="70000">
        <div class="circle">🛳️</div>
        <div class="money-label">70 000 kr</div>
        <div class="details"><strong>Klassresan</strong>Slutmålet! <span>🏝️</span></div>
      </div>
    </div>

    <div class="events">
      <h2>📅 Kommande aktiviteter</h2>
      <ul>
        <li><strong>29 sep:</strong> Start försäljning (Kakservice) <span>🍪</span></li>
        <li><strong>16 okt:</strong> Sista beställningsdag <span>📦</span></li>
        <li><strong>15 nov:</strong> Halloweenfest i lokalen <span>🎃</span></li>
        <li><strong>Vår 2026:</strong> Nästa försäljning <span>🥳</span></li>
      </ul>
    </div>
<!-- ===================== Klassresa – Resmålstabell ===================== -->
<section class="destinations" aria-labelledby="destinations-title">
  <h2 id="destinations-title">🚌 Möjliga resmål för Klassresa (sorterat efter pris)</h2>

  <div class="destinations-table-wrap">
    <table class="destinations-table">
      <thead>
        <tr>
          <th>Resmål</th>
          <th>Ca pris per elev<br><small>(+ total ca 29 pers)</small></th>
          <th>Ingår oftast</th>
          <th>Möjliga extrakostnader</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><b>Skolresa i närområdet (”budgetvariant”)</b></td>
          <td>300–800 kr<br><small style="color:#5c7390">≈ 8 700–23 200 kr totalt</small></td>
          <td>Utflykt + heldagsaktiviteter (lekland, badhus, äventyrspark), ingen övernattning</td>
          <td>Mat, inträden, transport</td>
        </tr>
        <tr>
          <td><b>Stockholm (”hemmaresa”)</b></td>
          <td>500–1 000 kr<br><small style="color:#5c7390">≈ 14 500–29 000 kr totalt</small></td>
          <td>Utflykter i stan: Skansen, Gröna Lund, museer; ingen övernattning eller enkel hostel</td>
          <td>Mat, flera inträden, SL-kort om det behövs</td>
        </tr>
        <tr>
          <td><b>Liseberg (Göteborg)</b></td>
          <td>1 500–2 000 kr<br><small style="color:#5c7390">≈ 43 500–58 000 kr totalt</small></td>
          <td>Buss tur & retur, inträde + åkband, ev. 1 natt på vandrarhem/hotell</td>
          <td>Mat i parken, souvenirer</td>
        </tr>
        <tr>
          <td><b>Åland (Mariehamn)</b></td>
          <td>1 500–2 200 kr<br><small style="color:#5c7390">≈ 43 500–63 800 kr totalt</small></td>
          <td>Färja t/r (dagstur eller med övernattning), ev. hytt, inträde (museum/slott), boende vandrarhem/stuga</td>
          <td>Mat utöver frukost, buss på Åland, extra aktiviteter (badhus/lekland), fickpengar</td>
        </tr>
        <tr>
          <td><b>High Chaparral (Småland)</b></td>
          <td>1 800–2 500 kr<br><small style="color:#5c7390">≈ 52 200–72 500 kr totalt</small></td>
          <td>Buss t/r, inträde till parken, ev. övernattning (camping/stugor)</td>
          <td>Måltider, extra aktiviteter</td>
        </tr>
        <tr>
          <td><b>Åbo / Helsingfors (Finland, färja)</b></td>
          <td>2 000–2 800 kr<br><small style="color:#5c7390">≈ 58 000–81 200 kr totalt</small></td>
          <td>Färja t/r med hytter, buffé frukost/middag, aktiviteter ombord</td>
          <td>Landaktiviteter, luncher, fickpengar</td>
        </tr>
        <tr>
          <td><b>Gotland (Visby + utflykter)</b></td>
          <td>2 500–3 000 kr<br><small style="color:#5c7390">≈ 72 500–87 000 kr totalt</small></td>
          <td>Båt t/r, vandrarhem, 1–2 gemensamma aktiviteter (museum/guidad tur)</td>
          <td>Måltider utöver frukost, buss på ön, fickpengar</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>


<style>
/* —— Мобильные карточки: чёткое выравнивание без «уезда» вправо —— */
@media (max-width: 720px){
  .destinations-table thead{display:none}

  .destinations-table,
  .destinations-table tbody,
  .destinations-table tr,
  .destinations-table td{
    display:block;
    width:100%;
    box-sizing:border-box;          /* ничего не «распирает» ширину */
  }

  /* карточка = строка */
  .destinations-table tr{
    position:relative;
    margin:12px 0;                  /* без левого/правого отступа */
    padding:12px 14px;
    border:1px solid #d6e4f0;
    border-radius:14px;
    background:#fff;
    box-shadow:0 4px 12px rgba(0,0,0,.06);
  }

  /* на всякий случай убираем любые смещения слева */
  .destinations-table-wrap{padding-left:0}
  .destinations-table tr{margin-left:0}

  /* цветной акцент — ВНУТРИ карточки, не двигает её */
  .destinations-table tr::before{
    content:"";
    position:absolute;
    inset:0 auto 0 0;               /* прижимаем к внутреннему левому краю */
    width:6px;
    background:#2193b0;
    border-top-left-radius:14px;
    border-bottom-left-radius:14px;
  }

  .destinations-table td{
    padding:8px 0;
    border-bottom:none;
  }
  .destinations-table td::before{
    content:attr(data-label);
    display:block;
    font-size:12px;
    color:#5c7390;
    margin-bottom:4px;
    text-transform:uppercase;
    letter-spacing:.02em;
  }

  /* визуальные разделители между полями */
  .destinations-table td + td{
    border-top:1px dashed #e2ecf7;
    padding-top:10px;
    margin-top:10px;
  }

  /* акцент для Resmål */
  .destinations-table td:first-child{
    border-top:none; padding-top:0; margin-top:0;
  }
  .destinations-table td:first-child::before{display:none}
  .destinations-table td:first-child b{
    display:inline-block;
    background:#eef5fb;
    color:#163554;
    padding:6px 10px;
    border-radius:8px;
    font-size:16px;
    font-weight:800;
  }
}

/* ===== fix för kolumnen "Ca pris per elev" i desktop ===== */
@media (min-width: 721px){
  .destinations-table thead th:nth-child(2),
  .destinations-table tbody td:nth-child(2){
    white-space: nowrap;     /* alltid en rad */
    min-width: 160px;        /* bredare minimum */
    max-width: 180px;        /* hindrar att den blir för bred */
    text-align: center;      /* snygg centrerad text */
  }
}
</style>

<script>
  // добавляем data-label к ячейкам для мобильной карточной версии
  (function(){
    const table = document.querySelector('.destinations-table');
    if(!table) return;
    const labels = Array.from(table.querySelectorAll('thead th')).map(th => th.textContent.trim());
    table.querySelectorAll('tbody tr').forEach(tr=>{
      tr.querySelectorAll('td').forEach((td,i)=>{
        td.setAttribute('data-label', labels[i] || '');
      });
    });
  })();
</script>
<!-- =================== /Klassresa – Resmålstabell =================== -->



  </div>

  <script>
    const current = 1000;
    const goal = 70000;

    const jarFill = document.getElementById("jarFill");
    const jarLabel = document.getElementById("jarLabel");
    const timelineFill = document.getElementById("timelineFill");
    const timelineArrow = document.getElementById("timelineArrow");
    const events = document.querySelectorAll(".event");

    function formatKr(n) {
      return new Intl.NumberFormat("sv-SE").format(n) + " kr";
    }

    function updateJarFill() {
      const pct = Math.min(current / goal, 1);
      jarFill.style.transform = `scaleY(${pct})`;
      jarLabel.textContent = formatKr(current);
    }

    function markEvents() {
      events.forEach((ev) => {
        const need = +ev.dataset.goal;
        if (current >= need) {
          ev.classList.add("active");
        }
      });
    }

    function updateTimeline() {
      let prev = null;
      let next = null;

      const values = Array.from(events).map((ev) => ({
        el: ev,
        goal: +ev.dataset.goal,
        y: ev.offsetTop,
      }));

      for (let i = 0; i < values.length - 1; i++) {
        if (current >= values[i].goal && current <= values[i + 1].goal) {
          prev = values[i];
          next = values[i + 1];
          break;
        }
      }

      if (!prev) {
        prev = values[0];
        next = values[1];
      }

      const range = next.goal - prev.goal;
      const offset = current - prev.goal;
      const percent = offset / range;

      const y = prev.y + (next.y - prev.y) * percent;

      // Заполняем линию от первого события до стрелки
      const startY = values[0].y;
      timelineFill.style.top = startY + "px";
      timelineFill.style.height = (y - startY) + "px";

      timelineArrow.style.top = y + "px";
    }

    updateJarFill();
    markEvents();
    updateTimeline();
    window.addEventListener("resize", updateTimeline);
  </script>
</body>
</html>

