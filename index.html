<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Klassresa ‚Äì Karta mot Gotland</title>
  <style>
    body {
      margin: 0;
      font-family: Inter, system-ui, sans-serif;
      background: #f4f9ff;
      color: #222;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
    }

    .map-wrap {
      max-width: 700px;
      width: 100%;
      background: #fff;
      border: 1px solid #d6e4f0;
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    }

    h1 {
      text-align: center;
      margin-top: 0;
      font-size: 26px;
      color: #1a3d5d;
    }

    .jar-title {
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      color: #1a3d5d;
      margin-bottom: 10px;
    }

    .jar-container {
      position: relative;
      width: 140px;
      height: 200px;
      margin: 0 auto 40px auto;
    }

    .jar-bg {
      width: 100%;
      height: 100%;
      background: #e0e0e0;
      border-radius: 12px;
      position: relative;
      overflow: hidden;
      box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.2);
    }

    .jar-fill {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to top, #2193b0, #6dd5ed);
      transform-origin: bottom;
      transform: scaleY(0);
      transition: transform 0.5s ease-in-out;
    }

    .jar-label {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 20px;
      font-weight: 600;
      color: #fff;
      z-index: 2;
      pointer-events: none;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
      max-width: 100%;
      text-align: center;
      padding: 0 10px;
      white-space: nowrap;
    }

    /* –ì—Ä–∞–¥–∞—Ü–∏–∏ */
    .jar-ticks {
      position: absolute;
      top: 0;
      left: 100%;
      height: 100%;
      margin-left: 8px;
      width: 30px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .jar-ticks span {
      font-size: 12px;
      color: #666;
      white-space: nowrap;
      transform: translateY(50%);
    }

    .timeline {
      display: flex;
      flex-direction: column;
      position: relative;
      padding-left: 40px;
      margin-bottom: 40px;
    }

    .timeline::before {
      content: "";
      position: absolute;
      top: 0;
      bottom: 0;
      left: 20px;
      width: 4px;
      background: #bbb;
      border-radius: 2px;
      z-index: 0;
    }

    .timeline-fill {
      position: absolute;
      left: 20px;
      width: 4px;
      background: #2193b0;
      border-radius: 2px;
      transform-origin: top;
      z-index: 1;
      top: 0;
      height: 0;
    }

    /* üõ≥Ô∏è –ö–æ—Ä–∞–±–ª–∏–∫ –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–µ–ª–∫–∏ */
    .timeline-ship{
      position:absolute;
      left:20px;
      transform: translate(-50%, -50%); /* —Ü–µ–Ω—Ç—Ä —ç–º–æ–¥–∑–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–æ—á–∫–æ–π */
      font-size: 34px;                   /* –∫—Ä—É–ø–Ω–µ–µ, —á–µ–º —Ç–æ—á–∫–∞ */
      line-height: 1;
      filter: drop-shadow(0 2px 2px rgba(0,0,0,.25));
      z-index: 2;
    }

    .event {
      position: relative;
      margin-bottom: 40px;
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }

    .event:last-child { margin-bottom: 0; }

    .circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #fff;
      border: 3px solid #bbb;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: #666;
      flex-shrink: 0;
      z-index: 2;
    }

    .event.active .circle {
      background: #2193b0;
      color: #fff;
      border-color: #2193b0;
      box-shadow: 0 0 10px #2193b0;
    }

    .money-label {
      font-size: 13px;
      color: #1a3d5d;
      margin-left: 8px;
      margin-top: 12px;
      white-space: nowrap;
      flex-shrink: 0;
      font-weight: 600;
    }

    .details {
      background: #f9fcff;
      border: 1px solid #d6e4f0;
      border-radius: 10px;
      padding: 10px 14px;
      font-size: 15px;
      color: #333;
      flex: 1;
      position: relative;
    }

    .details strong {
      display: block;
      margin-bottom: 4px;
      color: #1a3d5d;
    }

    .details span { color: #555; }

    .events { margin-top: 20px; }
    .events h2 {
      font-size: 20px; color: #1a3d5d; margin-bottom: 10px; text-align: center;
    }
    .events ul { list-style: none; padding: 0; margin: 0; }
    .events li{
      background:#f9fcff; border:1px solid #d6e4f0; border-radius:10px;
      padding:10px 14px; margin-bottom:8px; display:flex; justify-content:space-between;
      align-items:center; font-size:15px; color:#333
    }
    .events li span{ color:#555 }
  </style>
</head>
<body>
  <div class="map-wrap">
    <h1>Resan av 5A mot skolresanüõ≥Ô∏è</h1>

    <div class="jar-title">üí∞ Klasskassa</div>
    <div class="jar-container">
      <div class="jar-bg">
        <div class="jar-fill" id="jarFill"></div>
        <div class="jar-label" id="jarLabel">0 kr</div>
      </div>
      <div class="jar-ticks">
        <span>70 000 kr</span>
        <span>30 000 kr</span>
        <span>20 000 kr</span>
        <span>10 000 kr</span>
        <span>5 000 kr</span>
        <span>0 kr</span>
      </div>
    </div>

    <div class="timeline" id="timeline">
      <div class="timeline-fill" id="timelineFill"></div>
      <!-- üîÅ –ë–´–õ–û: timeline-arrow ‚Üí –°–¢–ê–õ–û: timeline-ship -->
      <div class="timeline-ship" id="timelineShip">üö¢</div>

      <div class="event" data-goal="0">
        <div class="circle">üèÅ</div>
        <div class="money-label">0 kr</div>
        <div class="details"><strong>Start</strong>Vi b√∂rjar v√•r resa! <span>üöÄ</span></div>
      </div>
      <div class="event" data-goal="5000">
        <div class="circle">üéÉ</div>
        <div class="money-label">5 000 kr</div>
        <div class="details"><strong>Halloween fest</strong>Vid 5 000 kr <span>üëª</span></div>
      </div>
      <div class="event" data-goal="10000">
        <div class="circle">üçø</div>
        <div class="money-label">10 000 kr</div>
        <div class="details"><strong>Filmkv√§ll</strong>Vid 10 000 kr <span>üé¨</span></div>
      </div>
      <div class="event" data-goal="20000">
        <div class="circle">üç¶</div>
        <div class="money-label">20 000 kr</div>
        <div class="details"><strong>Glassfest</strong>Vid 20 000 kr <span>üç®</span></div>
      </div>
      <div class="event" data-goal="30000">
        <div class="circle">üéâ</div>
        <div class="money-label">30 000 kr</div>
        <div class="details"><strong>Discofest</strong>Vid 30 000 kr <span>ü™©</span></div>
      </div>
      <div class="event" data-goal="70000">
        <div class="circle">üõ≥Ô∏è</div>
        <div class="money-label">70 000 kr</div>
        <div class="details"><strong>Klassresan</strong>Slutm√•let! <span>üèùÔ∏è</span></div>
      </div>
    </div>

    <div class="events">
      <h2>üìÖ Kommande aktiviteter</h2>
      <ul>
        <li><strong>29 sep:</strong> Start f√∂rs√§ljning (Kakservice) <span>üç™</span></li>
        <li><strong>16 okt:</strong> Sista best√§llningsdag <span>üì¶</span></li>
        <li><strong>15 nov:</strong> Halloweenfest i lokalen <span>üéÉ</span></li>
        <li><strong>Slutet av november</strong> N√§sta f√∂rs√§ljning <span>üí∞</span></li>
        <li><strong>Januari-februari</strong> Filmkv√§ll <span>üìΩ</span></li>
        <li><strong>V√•r 2026:</strong> Garage loppis <span>ü•≥</span></li>
        <li><strong>V√•r 2026:</strong> N√§sta f√∂rs√§ljning <span>ü•≥</span></li>
      </ul>
    </div>

    <!-- ‚Ä¶ —Ç–≤–æ—è —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Ç—É—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Ä¶ -->
  </div>

  <script>
    const current = 1000;
    const goal = 70000;

    const jarFill = document.getElementById("jarFill");
    const jarLabel = document.getElementById("jarLabel");
    const timelineFill = document.getElementById("timelineFill");
    const timelineShip = document.getElementById("timelineShip"); // üëà –∑–∞–º–µ–Ω–∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
    const events = document.querySelectorAll(".event");

    function formatKr(n) {
      return new Intl.NumberFormat("sv-SE").format(n) + " kr";
    }

    function updateJarFill() {
      const pct = Math.min(current / goal, 1);
      jarFill.style.transform = `scaleY(${pct})`;
      jarLabel.textContent = formatKr(current);
    }

    function markEvents() {
      events.forEach((ev) => {
        const need = +ev.dataset.goal;
        if (current >= need) ev.classList.add("active");
      });
    }

    function updateTimeline() {
      let prev = null;
      let next = null;

      const values = Array.from(events).map((ev) => ({
        el: ev,
        goal: +ev.dataset.goal,
        y: ev.offsetTop,
      }));

      for (let i = 0; i < values.length - 1; i++) {
        if (current >= values[i].goal && current <= values[i + 1].goal) {
          prev = values[i];
          next = values[i + 1];
          break;
        }
      }
      if (!prev) { prev = values[0]; next = values[1]; }

      const range = next.goal - prev.goal;
      const offset = current - prev.goal;
      const percent = offset / range;
      const y = prev.y + (next.y - prev.y) * percent;

      const startY = values[0].y;
      timelineFill.style.top = startY + "px";
      timelineFill.style.height = (y - startY) + "px";

      // üëá –î–≤–∏–≥–∞–µ–º –∫–æ—Ä–∞–±–ª–∏–∫ (—Ü–µ–Ω—Ç—Ä —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–æ—á–∫–æ–π)
      timelineShip.style.top = y + "px";
    }

    updateJarFill();
    markEvents();
    updateTimeline();
    window.addEventListener("resize", updateTimeline);
  </script>
</body>
</html>
